- schema_id: "cmu:make-dbied-purchaseExpl"
  schema_name: "DBIED Manufacture (explosives purchased)"
  schema_dscpt: "Description of making drone-based IED, when explosives are purchased"
  steps:
  - id: obtain-drone
    primitive: Transaction.ExchangeBuySell
    slots:
    - role: Recipient
      refvar: attacker
      constraints: ['PER', 'ORG', 'SID']
    - role: AcquiredEntity
      refvar: drone
      constraints: ['COM']
      reference: Q484000 # unmaned aerial vehicle
  - id: obtain-explosives
    primitive: Transaction.ExchangeBuySell
    slots:
    - role: Recipient
      refvar: attacker
      constraints: ['PER', 'ORG', 'SID']
    - role: AcquiredEntity
      constraints: ['COM']
      reference: Q12870 # explosive material
      refvar: explosives
  - id: build-delivery-mechanisms
    primitive: ArtifactExistence.ManufactureAssemble
    provenance:
      - DroneBorneIED1-sent1
      - DroneBorneIED1-sent33
      - JC002YBTD.jpg
      - JC002YBTE.jpg
      - JC002YBTW.png
    slots:
    - role: ManufacturerAssembler
      refvar: attacker
      constraints: ['PER', 'ORG', 'SID']
    - role: Artifact
      constraints: ['COM']
      refvar: mechanism
      reference: Q517596 # mechanism
  - id: attach-payload
    primitive: ArtifactExistence.ManufactureAssemble
    provenance:
      - JC002YBTX.png
    slots:
    - role: ManufacturerAssembler
      constraints: ['PER', 'ORG', 'SID']
    - role: Components
      refvar: explosives
      constraints: ['COM']
    - role: Components
      refvar: drone
      constraints: ['COM']
    - role: Components
      refvar: mechanism
      constraints: ['COM']
    - role: Artifact
      constraints: ['WEA']
      reference: Q1249453 # improvised explosive device
  order:
    - before: obtain-drone
      after: build-delivery-mechanisms
    - before: build-delivery-mechanisms
      after: attach-payload
    - before: obtain-explosives
      after: attach-payload
