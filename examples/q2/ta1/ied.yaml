# Schema for manufacture of IEDs
- schema_id: "cmu:make-ied"
  schema_name: "IED Manufacture"
  schema_dscpt: "General description of making IED"
  steps:
  - id: make-explosive-material
    primitive: ArtifactExistence.Assemble
    slots:
      - role: Agent
        refvar: attacker
        constraints: ['PER', 'ORG', 'SID']
      - role: Result
        refvar: explosives
        constraints: ['COM']
        reference: Q12870 # explosive material
  - id: obtain-container
    primitive: Transaction.Exchange
    slots:
      - role: AcquirerOrRecipient
        refvar: attacker
        constraints: ['PER', 'ORG', 'SID']
      - role: AcquiredEntity
        refvar: container
        constraints: ['COM']
        reference: Q740460 # Pressure vessel
  - id: obtain-shrapnel
    primitive: Transaction.Exchange
    slots:
      - role: AcquirerOrRecipient
        refvar: attacker
        constraints: ['PER', 'ORG', 'SID']
      - role: AcquiredEntity
        refvar: shrapnel
        constraints: ['COM']
        reference: Q37077
  - id: assemble-bomb
    primitive: ArtifactExistence.Assemble
    provenance:
      - IED1-sent40
      - IED1-sent61
    slots:
      - role: Agent
        refvar: attacker
        constraints: ['PER', 'ORG', 'SID']
      - role: Components
        refvar: container
        constraints: ['COM']
      - role: Components
        refvar: shrapnel
        constraints: ['COM']
      - role: Components
        refvar: explosives
        constraints: ['COM']
      - role: Result
        refvar: bomb
        constraints: ['COM']
        reference: Q127197 # bomb
  order:
    - before: make-explosive-material
      after: assemble-bomb
    - before: obtain-container
      after: assemble-bomb
    - before: obtain-shrapnel
      after: assemble-bomb
